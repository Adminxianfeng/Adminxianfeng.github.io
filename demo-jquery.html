<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>XF的个人网站</title>
	<link rel="icon" href="http://ixm8.com/favicon.ico" />
	<link rel="stylesheet" href="http://ixm8.com/css/base.css" />
	<link rel="stylesheet" href="http://ixm8.com/css/demo-jquery.css" />
</head>
<body>
	<div class="menu">
        <div class="menu-banner">
        	<a href="#">下拉看更多..</a>
            <ul>
                <li><a href="javascript:;">demo1</a></li>
                <li><a href="javascript:;">demo2</a></li>
                <li><a href="javascript:;">demo3</a></li>
                <li><a href="javascript:;">demo4</a></li>
            </ul>
        </div>       
    </div>
	<ul id="jq-box">
		<li>
			<p class="midtxt">腾讯首页星座运势效果</p>
			<div class="constellation">
				<div class="xz-title ">星座运势<span class="current-date" id="cdt"></span></div>
				<div class="xz-detail">
					<div class="xz-dd clearfix">
						<div class="xz-pic fl" id="xzPic"></div>
						<div class="icon">
							<select class="xz-sele" id="sele">
								<option value="0">白羊座(03.21-04.19)</option>
								<option value="1">金牛座(04.20-05.20)</option>
								<option value="2">双子座(05.21-06.21)</option>
								<option value="3">巨蟹座(06.22-07.22)</option>
								<option value="4">狮子座(07.23-08.22)</option>
								<option value="5">处女座(08.23-09.22)</option>
								<option value="6">天秤座(09.23-10.23)</option>
								<option value="7">天蝎座(10.24-11.22)</option>
								<option value="8">射手座(11.23-12.21)</option>
								<option value="9">摩羯座(12.22-01.19)</option>
								<option value="10">水瓶座(01.20-02.18)</option>
								<option value="11">双鱼座(02.19-03.20)</option>
							</select>
							<div class="star-layout">
									<p>今日运势：</p>
									<div class="star-pic fl">
										<div class="starPic" id="stPic"></div>
									</div>
							</div>
						</div>
					</div>
					<div class="content">
						<p id="xzContent"></p>
					</div>
				</div>
			</div>
		</li>
		<li>
			<p class="midtxt">电商星级评价demo</p>
			<div class="com-par">
				<ul class="comment">
			      <li>☆</li>
			      <li>☆</li>
			      <li>☆</li>
			      <li>☆</li>
			      <li>☆</li>
			    </ul>
			    <span class="star-msg"></span>
			</div>	
		</li>
		<li>
			<p class="midtxt">仿微博发布效果</p>
			<center>
		        <div id="myBody">
		            <div id="myBdLeft">
		                <div id="talkBox">
		                    <h2>
		                        <a>发点动态吧......</a>
		                    </h2>

		                    <textarea id="msgTxt"></textarea>

		                    <div id="funBox">
		                        <a href="javascript:void(0);" class="creatNew">话题</a>   
		                        <a href="javascript:void(0);" class="atSome">朋友</a> 
		                        <a href="javascript:void(0);" class="insertFace">表情</a>
		                        <a href="javascript:void(0);" class="uploadPic">照片</a>
		                        <a href="javascript:void(0);" class="uploadVideo">视频</a>
		                    </div>

		                    <div id="sendBox">
		                        <input type="button" class="sendBtn" value="" />
		                        <span class="countTxt">还能输入<em>140</em>字</span>
		                    </div>
		                </div>
		            </div>
		            <div id="myBdRight">
		            </div>
		        </div>
		    </center>
		</li>
		<li>
			<p class="midtxt">效果4</p>
		</li>
	</ul>
	<div class="icon-mouse"></div>
</body>
</html>
<script src="http://ixm8.com/js/jquery-1.11.1.min.js"></script>
<script src="http://ixm8.com/js/jquery.scrollTo.js"></script>
<script src="http://ixm8.com/js/weibo.js"></script>
<script>
		$(document).ready(function(){
			//下拉列表部分
			$(".menu-banner").hover(function () {
				$(this).children("ul").stop().slideToggle();
			});
			//点击滚动部分
			$(".menu-banner").children("ul").children("li").
			each(function(index,elem){
				$(elem).on("click",function(){
					$.scrollTo("#jq-box>li:eq("+index+")",1500);
				});
			});

			//星座运势部分
			var starArr = [9,7,5,3,3,8,7,6,9,10,8,6];
			var xzctArr = ["白羊座运势","金牛座运势","双子座运势","巨蟹座运势","狮子座运势","处女座运势","天秤座运势","天蝎座运势","射手座运势","摩羯座运势","水平座运势","双鱼座运势"]; 
			var myDt = new Date();
			var currentDt = myDt.toLocaleDateString();
			var m = myDt.getMonth() + 1; 
			var d = myDt.getDate();
			var opIndex = getAstro(m,d);
			$("#cdt").html(currentDt);
			$("option")[opIndex].selected = true;
			$("#xzContent").html(xzctArr[opIndex]);
			$("#stPic").css("width",starArr[opIndex]*8+"px");
			$(".icon").on("change","#sele",function(){
				$("#xzPic").css("background-position","0 -"+$(this).val()*50+"px");
				$("#stPic").css("width",8*starArr[$(this).val()]+"px");
				$("#xzContent").html(xzctArr[$(this).val()]);
			});
			//根据日期得到星座索引号
			function getAstro(m,d){    
				    var arr=[20,21,22,23,23,23,24,23,22,20,19,21];
				    if(m>=4){
						return m-(d<arr[m-1]?4:3);
					}
				    else
						return m+12-(d<arr[m-1]?4:3);
			}
			//星级评价
			var wjx_none = '☆',wjx_sel = '★';
			var msgTxt = ['看来您真的很不满意~','两颗星也太少了吧~','再考虑下吧，辛苦了~','感谢您的评价，我们再接再厉！','哇，太棒了，期待下次光临！'];
		    $(".comment li").on({
		      mouseenter:function(){
		      $(this).text(wjx_sel)
		             .prevAll()
		             .text(wjx_sel)
		             .end()
		             .nextAll()
		             .text(wjx_none);},
		      click:function(){
		      $(this).text(wjx_sel)
		             .addClass("clicked")
		             .prevAll()
		             .text(wjx_sel)
		             .end()
		             .nextAll()
		             .text(wjx_none);
		      $(this).siblings()
		             .removeClass("clicked")
		      $('.star-msg').text(msgTxt[$(this).index()])},
		      mouseleave:function(){
		      $(".comment li").text(wjx_none);
		      $(".clicked").text(wjx_sel)
		                   .prevAll()
		                   .text(wjx_sel)
		                   .end()
		                   .nextAll()
		                   .text(wjx_none);
		      }});

		    //鼠标跟随效果
		    $(document).on({mousemove: function (e) {
                $(".icon-mouse").offset({
                    "top": e.pageY-$(".icon-mouse").height()/2,
                    "left": e.pageX-$(".icon-mouse").width()/2
                }).css("display","block")
              },
               mouseleave:function(){
                  $(".icon-mouse").css("display","none");
               }
      		});
		});
</script>